<form class="contact-form" [formGroup]="contactUsForm" (ngSubmit)="onSubmit()">
  <div class="contact-form__success" id="success-toast"><!-- *ngIf="showFormSuccess" -->
    <p>
      <ng-container *ngTemplateOutlet="iconSuccessSvg"></ng-container>
      Message Sent!
    </p>
    <p>Thanks for completing the form. We'll be in touch soon!</p>
  </div>
  <h2>Contact Us</h2>
  <div class="contact-form__input-group">

    <!-- First Name -->
    <div class="contact-form__input">
      <label>First Name <span>*</span></label>
      <input type="text" 
        formControlName="firstName" 
        required
        [ngClass]="{'invalid': formSubmitted && contactUsForm.controls.firstName.errors}"
      />
      <span class="error" 
        *ngIf="formSubmitted && contactUsForm.controls.firstName.errors?.['required']">
        First name is required
      </span>
    </div>

    <!-- Last Name -->
    <div class="contact-form__input">
      <label>Last Name <span>*</span></label>
      <input type="text" 
        formControlName="lastName"
        required
        [ngClass]="{'invalid': formSubmitted && contactUsForm.controls.lastName.errors}"
      />
      <span class="error"
        *ngIf="formSubmitted && contactUsForm.controls.lastName.errors?.['required']">
        Last name is required
      </span>
    </div>
  </div>

  <!-- Email -->
  <div class="contact-form__input">
    <label>Email Address <span>*</span></label>
    <input type="text" 
      formControlName="emailAddress"
      required
      [ngClass]="{'invalid': formSubmitted && contactUsForm.controls.emailAddress.errors}"
    />
    <span class="error"
      *ngIf="formSubmitted && contactUsForm.controls.emailAddress.errors?.['required']">
      Email is required
    </span>
    <span class="error"
      *ngIf="formSubmitted && contactUsForm.controls.emailAddress.errors?.['email']">
      Please enter a valid email address
    </span>
  </div>

  <!-- Query Type -->
  <div class="contact-form__input radio">
    <label>Query Type <span>*</span></label>
    <div class="contact-form__input-group">
      <div class="contact-form__input input__radio">
        <input type="radio" id="general" name="queryType" formControlName="queryType" value="general" />
        <ng-container *ngTemplateOutlet="radioSvg"></ng-container>
        <label for="general">General Enquiry</label>
      </div>
      <div class="contact-form__input input__radio">
        <input type="radio" id="support" name="queryType" formControlName="queryType" value="support" />
        <ng-container *ngTemplateOutlet="radioSvg"></ng-container>
        <label for="support">Support Request</label>
      </div>
    </div>
    <span class="error"
      *ngIf="formSubmitted && contactUsForm.controls.queryType.errors?.['required']">
      Please select a query type
    </span>
  </div>


  <!-- Message -->
  <div class="contact-form__input">
    <label>Message <span>*</span></label>
    <textarea formControlName="userMessage"
      [ngClass]="{'invalid': formSubmitted && contactUsForm.controls.userMessage.errors}"
    ></textarea>
    <span class="error"
      *ngIf="formSubmitted && contactUsForm.controls.userMessage.errors?.['required']">
    Message is required</span>
  </div>
  
  <!-- Consent -->
  <div class="contact-form__input">
    <div class="input__checkbox">
      <input type="checkbox" name="consent" id="consent" formControlName="userConsent" />
      <ng-container *ngTemplateOutlet="checkboxSvg"></ng-container>
      <label for="consent">I consent to being contacted by the team <span>*</span></label>
    </div>
    <span class="error" 
      *ngIf="formSubmitted && contactUsForm.controls.userConsent.errors?.['required']"
    >To submit this form, please consent to being contacted</span>
  </div>

  <button class="contact-form__submit" type="submit">Submit</button>
</form>


<ng-template #iconSuccessSvg>
  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" fill="none" viewBox="0 0 20 21"><path fill="#fff" d="M14.28 7.72a.748.748 0 0 1 0 1.06l-5.25 5.25a.748.748 0 0 1-1.06 0l-2.25-2.25a.75.75 0 1 1 1.06-1.06l1.72 1.72 4.72-4.72a.75.75 0 0 1 1.06 0Zm5.47 2.78A9.75 9.75 0 1 1 10 .75a9.76 9.76 0 0 1 9.75 9.75Zm-1.5 0A8.25 8.25 0 1 0 10 18.75a8.26 8.26 0 0 0 8.25-8.25Z"/></svg>
</ng-template>

<ng-template #radioSvg>
  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" fill="none" viewBox="0 0 20 21"><path fill="#0C7D69" d="M10 .75a9.75 9.75 0 1 0 9.75 9.75A9.76 9.76 0 0 0 10 .75Zm0 18a8.25 8.25 0 1 1 8.25-8.25A8.26 8.26 0 0 1 10 18.75Zm5.25-8.25a5.25 5.25 0 1 1-10.499 0 5.25 5.25 0 0 1 10.499 0Z"/></svg>
</ng-template>

<ng-template #checkboxSvg>
  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 18 18"><path fill="#0C7D69" d="M16.5 0h-15A1.5 1.5 0 0 0 0 1.5v15A1.5 1.5 0 0 0 1.5 18h15a1.5 1.5 0 0 0 1.5-1.5v-15A1.5 1.5 0 0 0 16.5 0Zm-3.22 7.28-5.25 5.25a.748.748 0 0 1-1.06 0l-2.25-2.25a.75.75 0 1 1 1.06-1.06l1.72 1.72 4.72-4.72a.751.751 0 0 1 1.06 1.06Z"/></svg>
</ng-template>
